import{a as b,i as n,S as L}from"./assets/vendor-f1a8ff1a.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();const S="https://pixabay.com/api/",v="29304756-51da1fab5abbfa991ea2eaa1b";async function m(o,t,i){const s=new URLSearchParams({key:v,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:i});return await b.get(`${S}?${s}`)}function f(o){const t=document.querySelector(".gallery"),i=o.map(({webformatURL:s,tags:e,likes:a,views:l,comments:y,downloads:h,largeImageURL:g})=>`<div class="photo-card">
                <a href = "${g}">
                <img src="${s}" alt="${e}" loading="lazy" />
                <div class="info">
                    <p class="info-item"><b>Likes:</b>${a}</p>
                    <p class="info-item"><b>Views:</b>${l}</p>
                    <p class="info-item"><b>Comments:</b>${y}</p>
                    <p class="info-item"><b>Downloads:</b>${h}</p>
                </div> 
                </a>
            </div>`).join("");t.insertAdjacentHTML("beforeend",i)}const r={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery"),imageGallery:document.querySelector("photo-card"),submitBtn:document.querySelector(".submit-btn"),loadMoreBtn:document.querySelector(".load-more"),loader:document.querySelector(".loader")};let d=1;const u=40;let c="";r.submitBtn.disabled=!0;r.loader.classList.add("hidden");r.searchForm.addEventListener("submit",w);r.searchForm.addEventListener("input",o=>o.target.value?r.submitBtn.disabled=!1:r.submitBtn.disabled=!0);r.loadMoreBtn.addEventListener("click",q);async function w(o){if(o.preventDefault(),d=1,c=o.currentTarget.searchQuery.value.trim(),c===""){n.error({title:"Error",message:"Sorry, you didn't write what to look for",position:"center"}),r.searchForm.reset();return}if(r.gallery.innerHTML="",/\d/.test(c))return n.error({title:"Error",message:"Sorry, you can only use letters to search",position:"center"});try{const{data:t}=await m(c,d,u);r.loader.classList.remove("hidden"),t.totalHits===0?(r.loader.classList.add("hidden"),n.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again.",position:"center"})):(r.loader.classList.add("hidden"),f(t.hits),p(),n.info({title:"Information",message:`Hooray! We found ${t.totalHits} images.`,position:"center"}),t.totalHits>u&&r.loadMoreBtn.classList.remove("hidden"))}catch(t){console.error(t),r.loader.classList.add("hidden"),n.error({title:"Server error",message:"Oops! Something went wrong! Try reloading the page!",position:"center"})}}async function q(){d+=1;try{const{data:o}=await m(c,d,u);f(o.hits),p();const t=Math.ceil(o.totalHits/u);if(d<t)r.loadMoreBtn.classList.remove("hidden");else{n.info({title:"Information",message:"We're sorry, but you've reached the end of search results.",position:"center"});return}}catch(o){console.log(o)}}function p(){new L(".gallery a").refresh()}
//# sourceMappingURL=commonHelpers.js.map
